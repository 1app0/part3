{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services.js","components/Notification.js","App.js","index.js"],"names":["Filter","filteredName","handleFilterChange","value","onChange","PersonForm","handleSubmit","handleChangeNumber","handleChangeName","newName","newNumber","onSubmit","type","Person","name","number","handleClick","onClick","baseUrl","axios","get","person","post","id","delete","newPerson","put","Notification","message","error","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setFilteredName","errorMessage","setErrorMessage","notificationMessage","setNotificationMessage","useEffect","personService","then","response","data","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","find","window","confirm","changedPerson","newArray","map","setTimeout","catch","console","log","alert","concat","newNUmber","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a1192fa7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filteredName, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with:{' '}\r\n      <input value={filteredName} onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({\r\n  handleSubmit,\r\n  handleChangeNumber,\r\n  handleChangeName,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <h2>Add a new person to the phonebook</h2>\r\n          name:{' '}\r\n          <input type=\"text\" onChange={handleChangeName} value={newName} />\r\n          <br />\r\n          number:{' '}\r\n          <input type=\"text\" onChange={handleChangeNumber} value={newNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({ name, number, handleClick }) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        {name} {number} <button onClick={handleClick}>delete</button>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAllPersons = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst addPerson = person => {\r\n  return axios.post(baseUrl, person)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst updatePersonNumber = (id, newPerson) => {\r\n  return axios.put(`${baseUrl}/${id}`, newPerson)\r\n}\r\n\r\nexport default {\r\n  getAllPersons,\r\n  addPerson,\r\n  deletePerson,\r\n  updatePersonNumber,\r\n}\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 4,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  const notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 4,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (error) {\r\n    return <div style={errorStyle}>{message}</div>\r\n  }\r\n\r\n  return <div style={notificationStyle}>{message}</div>\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport personService from './services'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filteredName, setFilteredName] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAllPersons().then(response => {\n      setPersons(response.data)\n    })\n  }, [])\n\n  const handleSubmit = event => {\n    event.preventDefault()\n    const person = persons.find(person => person.name === newName)\n    if (person) {\n      if (person.number !== newNumber) {\n        if (\n          window.confirm(`Do you wish to replace ${newName}'s phone number?`)\n        ) {\n          const changedPerson = { ...person, number: newNumber }\n          personService\n            .updatePersonNumber(changedPerson.id, changedPerson)\n            .then(response => {\n              const newArray = persons.map(person =>\n                changedPerson.id !== person.id ? person : response.data\n              )\n              setPersons(newArray)\n              setNotificationMessage(\n                `${changedPerson.name}'s number was updated`\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n              setNewName('')\n              setNewNumber('')\n            })\n            .catch(error => {\n              console.log(error.response.data)\n              setErrorMessage(error.response.data.error)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })\n        }\n      } else {\n        window.alert(\n          `${newName} is already registered in the phonebook with this phone number`\n        )\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      let newPerson = { name: newName, number: newNumber }\n      personService\n        .addPerson(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNotificationMessage(`${newName} was added to the phonebook`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleChangeName = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleChangeNumber = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setFilteredName(event.target.value)\n  }\n\n  const handleDeletePerson = id => {\n    if (window.confirm('Do you really want to delete this person?')) {\n      personService\n        .deletePerson(id)\n        .then(response => {\n          const newArray = persons.filter(person => person.id !== id)\n          setPersons(newArray)\n          setNotificationMessage(`Person was deleted from the phonebook`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setNotificationMessage(error.response.data.error)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const personsToShow = persons.filter(person =>\n    person.name.toLowerCase().includes(filteredName.toLowerCase())\n  )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} error={false} />\n      <Notification message={errorMessage} error={true} />\n      <Filter\n        filteredName={filteredName}\n        handleFilterChange={handleFilterChange}\n      />\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleChangeName={handleChangeName}\n        handleChangeNumber={handleChangeNumber}\n        newName={newName}\n        newNUmber={newNumber}\n      />\n      {personsToShow.map(person => (\n        <Person\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          handleClick={() => handleDeletePerson(person.id)}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}